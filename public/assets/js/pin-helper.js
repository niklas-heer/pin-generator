// Generated by CoffeeScript 1.10.0
(function() {
  var calcNum, clacEncPin, isNumeric;

  isNumeric = function(num) {
    return !isNaN(num);
  };

  calcNum = function(x, y) {
    if ((x - y) >= 0) {
      return x - y;
    } else {
      return (x - y) + 10;
    }
  };

  clacEncPin = function(pin, secret) {
    var i, j, ref, results, x, y;
    if ((pin.length === secret.length && pin.length >= 4) && (isNumeric(pin) && isNumeric(secret))) {
      results = [];
      for (i = j = 0, ref = pin.length - 1; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
        x = parseInt(pin[i]);
        y = parseInt(secret[i]);
        results.push(calcNum(x, y));
      }
      $('#enc_pin').parent().removeClass("hidden");
      $('#enc_pin').parent().addClass("is-dirty is-focused");
      return $('#enc_pin').val(results.join(''));
    } else {
      if (!($('#enc_pin').val().length >= 4)) {
        return $('#enc_pin').parent().addClass("hidden");
      }
    }
  };

  $('.PinInput').keyup(function() {
    var pin, secret;
    pin = $('#pin_to_encrypt').val();
    secret = $('#secret_pin').val();
    return clacEncPin(pin, secret);
  });

}).call(this);

//# sourceMappingURL=pin-helper.js.map
